# 项目变更日志

所有重要的项目变更都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 新增
- 计划中的实时数据推送功能
- 移动端适配优化
- 更多图表类型支持

### 计划
- 用户权限管理系统
- 数据导出功能
- 多语言支持

## [2.1.0] - 2024-01-15

### 新增
- **实时数据推送**: 集成WebSocket，支持数据实时更新
- **访客VIP分析页**: 新增专门的访客和VIP车辆分析页面
- **通道详情页**: 新增通道详细统计信息页面
- **3D特效演示**: 新增3D图表特效展示页面
- **WebSocket测试页**: 新增实时数据连接测试工具

### 改进
- **性能优化**: 图表渲染性能提升30%
- **代码分割**: 实现按需加载，减少首屏加载时间
- **缓存机制**: 优化数据缓存策略，提升响应速度
- **错误处理**: 完善全局错误处理和用户提示

### 修复
- 修复大数据量下图表渲染卡顿问题
- 修复时间筛选器在部分浏览器下的兼容性问题
- 修复WebSocket连接断线重连问题
- 修复移动端触摸事件处理问题

### 变更
- **依赖升级**: Vue 2.7.16, ECharts 4.9.0
- **构建优化**: 启用Gzip压缩，减少资源大小
- **API重构**: 统一API响应格式和错误处理

### 安全
- 增强XSS防护机制
- 优化CORS配置
- 加强用户输入验证

## [2.0.0] - 2023-12-01

### 新增
- **大屏响应式设计**: 专为1920x1080大屏优化
- **实时数据监控**: 30秒自动刷新数据
- **多维度筛选**: 时间/通道/车辆类型筛选器
- **交互式图表**: 支持图表点击、数据钻取
- **异常监控预警**: 黑名单、欠费、超时停车预警
- **车辆类型分析**: 油车/新能源车分类统计
- **停车时长分析**: 不同时长段统计分析

### 改进
- **UI/UX重设计**: 采用深色主题，优化视觉体验
- **图表组件化**: 抽象通用图表组件，提高复用性
- **数据服务层**: 重构数据获取逻辑，统一API管理
- **状态管理**: 使用Vuex进行状态管理
- **路由系统**: 完善的路由配置和页面导航

### 修复
- 修复图表数据更新不及时问题
- 修复页面布局在Safari浏览器下的兼容性
- 修复数据格式处理错误
- 修复内存泄漏问题

### 变更
- **框架升级**: 升级到Vue 2.7
- **技术栈更新**: 引入SCSS、Axios等现代工具
- **项目结构重组**: 优化目录结构和文件组织

## [1.2.0] - 2023-09-15

### 新增
- **数据导出功能**: 支持PDF、Excel格式导出
- **全屏模式**: 大屏展示全屏功能
- **主题切换**: 支持明暗主题切换
- **国际化**: 支持中英文语言切换

### 改进
- 优化图表动画效果
- 提升数据加载速度
- 完善用户操作反馈
- 增加数据加载状态指示

### 修复
- 修复图表在移动端显示异常
- 修复数据刷新时的闪烁问题
- 修复部分图表的tooltip显示问题

## [1.1.0] - 2023-06-20

### 新增
- **基础图表功能**: 饼图、柱状图、折线图
- **数据筛选**: 基础的时间筛选功能
- **API集成**: 对接后端数据接口
- **基础样式**: 采用DataV组件库

### 改进
- 优化界面布局
- 完善基础交互功能
- 增加数据验证机制

### 修复
- 修复基础的数据绑定问题
- 修复样式兼容性问题

## [1.0.0] - 2023-03-10

### 新增
- **项目初始化**: 基于Vue.js和ECharts的基础框架
- **大屏布局**: 三列式大屏布局设计
- **基础图表**: 简单的数据可视化展示
- **静态数据**: 使用模拟数据进行展示

---

## 版本号说明

本项目使用 [语义化版本](https://semver.org/lang/zh-CN/) 进行版本管理：

- **主版本号**：不兼容的API修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 版本类型
- **Major (主版本)**: 重大架构变更，可能不兼容旧版本
- **Minor (次版本)**: 新功能添加，保持向后兼容
- **Patch (修订版本)**: Bug修复和性能优化

### 发布周期
- **主版本**: 根据重大需求发布，无固定周期
- **次版本**: 每月发布一次，包含新功能
- **修订版本**: 根据需要随时发布，修复紧急问题

## 更新说明

### 开发分支策略
- **main**: 主分支，稳定版本
- **develop**: 开发分支，集成新功能
- **feature/***: 功能分支，开发具体功能
- **hotfix/***: 热修复分支，修复紧急问题
- **release/***: 发布分支，准备发布版本

### 发布流程
1. **功能开发**: 在feature分支开发新功能
2. **代码审查**: 提交PR进行代码审查
3. **测试验证**: 在测试环境验证功能
4. **合并发布**: 合并到develop分支
5. **版本发布**: 从develop创建release分支
6. **生产部署**: 发布到生产环境

### 标签管理
- 每次发布都会创建对应的Git标签
- 标签格式: `v{主版本}.{次版本}.{修订号}`
- 例如: `v2.1.0`, `v2.0.1`

### 变更类型标识
- `新增`: 新功能
- `改进`: 现有功能的改进
- `修复`: Bug修复
- `变更`: 不兼容的变更
- `安全`: 安全相关的修复
- `废弃`: 功能废弃
- `移除`: 功能移除

## 重要里程碑

### v1.0.0 (2023-03-10)
- 项目首次发布
- 基础的大屏展示功能
- 静态数据演示

### v2.0.0 (2023-12-01)
- 重大架构重构
- 实时数据功能上线
- 完整的交互功能

### v2.1.0 (2024-01-15)
- WebSocket实时推送
- 新增多个专门页面
- 性能大幅优化

## 贡献指南

### 如何贡献
1. Fork 项目到本地
2. 创建功能分支: `git checkout -b feature/amazing-feature`
3. 提交变更: `git commit -m 'Add amazing feature'`
4. 推送分支: `git push origin feature/amazing-feature`
5. 创建Pull Request

### 变更日志要求
- 所有PR都需要更新CHANGELOG.md
- 使用规定的格式描述变更
- 确保变更的准确性和完整性

### 版本发布
- 版本发布需要项目维护者审核
- 发布前需要完整的测试验证
- 发布后需要更新相关文档

## 联系方式

### 项目维护者
- **项目负责人**: project@nefu.edu.cn
- **技术负责人**: tech@nefu.edu.cn
- **运维负责人**: ops@nefu.edu.cn

### 问题反馈
- **GitHub Issues**: [项目Issues页面]
- **技术支持**: support@nefu.edu.cn
- **紧急联系**: 0451-xxxxxxxx

---

感谢所有为项目做出贡献的开发者和用户！

**注意**: 本变更日志仅记录公开发布版本的变更，内部测试版本和预发布版本的变更可能不会在此记录。
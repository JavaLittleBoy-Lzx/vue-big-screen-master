# ğŸš— æ™ºæ…§åœè½¦å¤§å±æ”¹é€ è¯¦ç»†ä¿®æ”¹æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ”¹é€ æ¦‚è¿°

åŸºäºç°æœ‰çš„ `vue-big-screen-master` é¡¹ç›®ï¼Œå°†é€šç”¨æ•°æ®å¯è§†åŒ–å¤§å±æ”¹é€ ä¸ºæ™ºæ…§åœè½¦åœºä¸“ä¸šæ•°æ®åˆ†æå¹³å°ã€‚é¡¹ç›®ä¿æŒç°æœ‰çš„æŠ€æœ¯æ ˆï¼ˆVue 2.6 + ECharts 4.6 + DataV 2.7ï¼‰ï¼Œä»…ä¿®æ”¹ä¸šåŠ¡é€»è¾‘ã€æ•°æ®æºå’Œå›¾è¡¨å±•ç¤ºå†…å®¹ã€‚

### ğŸ¯ æ”¹é€ ç›®æ ‡
- **ä¿æŒç°æœ‰å¸ƒå±€**ï¼š7ä¸ªæ ¸å¿ƒå±•ç¤ºåŒºåŸŸä¸å˜
- **æ›¿æ¢ä¸šåŠ¡å†…å®¹**ï¼šä»é€šç”¨æ•°æ®æ”¹ä¸ºåœè½¦åœºæ•°æ®
- **å¢å¼ºäº¤äº’ä½“éªŒ**ï¼šæ·»åŠ å®æ—¶æ•°æ®æ›´æ–°å’Œå‘Šè­¦åŠŸèƒ½
- **ä¼˜åŒ–è§†è§‰è®¾è®¡**ï¼šé‡‡ç”¨åœè½¦åœºä¸»é¢˜è‰²å½©å’Œå›¾æ ‡

## ğŸ”„ ç»„ä»¶æ”¹é€ å¯¹åº”å…³ç³»

| åŸç»„ä»¶ | åŸåŠŸèƒ½ | æ–°åŠŸèƒ½ | ä¸»è¦å›¾è¡¨ç±»å‹ | æ•°æ®æºæ¥å£ |
|--------|--------|--------|-------------|-----------|
| **centreLeft1** | ä»»åŠ¡é€šè¿‡ç‡ | ğŸš— è½¦æµé‡å®æ—¶ç›‘æ§ | æ•°å­—ç¿»ç‰Œå™¨+æ°´ä½å›¾ | 3.1,3.2è¿›å‡ºåœºæ¥å£ |
| **centreLeft2** | æ•°æ®åˆ†æ2 | ğŸš€ è½¦è¾†æµåŠ¨è½¨è¿¹ | é£çº¿å›¾+è½¬åŒ–æ¼æ–—å›¾ | 3.19é¢„è¿›åœº+3.12é¢„ç¦»åœº |
| **center** | æ ¸å¿ƒæ•°æ®é¢æ¿ | ğŸ“ˆ 24å°æ—¶è¶‹åŠ¿+æ—¶é•¿åˆ†å¸ƒ | é¢ç§¯å›¾+ç¯å½¢é¥¼å›¾ | 3.13è½¦æµé‡+3.2åœè½¦æ—¶é•¿ |
| **centreRight1** | ä»»åŠ¡å®Œæˆç‡ | ğŸ—ºï¸ åŒºåŸŸè½¦ä½çŠ¶æ€åˆ†å¸ƒ | çƒ­åŠ›å›¾+è¿›åº¦ç¯ | 3.3å‰©ä½™è½¦ä½+3.25ç»Ÿè®¡åŒºåŸŸ |
| **centreRight2** | æ•°æ®åˆ†æ3 | ğŸ’° æ”¶è´¹å’Œæ”¯ä»˜åˆ†æ | æŸ±çŠ¶å›¾+é¥¼å›¾ | 3.2ç¦»åœºè´¹ç”¨æ•°æ® |
| **bottomLeft** | æ•°æ®ç»Ÿè®¡å›¾ | ğŸ“Š è¿›å‡ºåœºæµé‡å¯¹æ¯” | åŒè½´æŸ±çŠ¶å›¾ | 3.13æ—¶é—´æ®µè½¦æµé‡ |
| **bottomRight** | å·¥å•ä¿®å¤è¶‹åŠ¿ | ğŸš¨ å¼‚å¸¸è¡Œä¸ºç›‘æ§ | å‘Šè­¦é¢æ¿+åˆ†å¸ƒå›¾ | é»‘åå•+7.1æ¬ è´¹æ¥å£ |

## ğŸ“ æ–‡ä»¶ä¿®æ”¹æ¸…å•

### 1. ä¸»é¡µé¢ä¿®æ”¹

#### 1.1 ä¿®æ”¹ `src/views/index.vue`

```vue
<template>
  <div id="index">
    <dv-full-screen-container class="bg">
      <dv-loading v-if="loading">æ­£åœ¨åŠ è½½åœè½¦åœºæ•°æ®...</dv-loading>
      <div v-else class="host-body">
        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <div class="d-flex jc-center">
          <dv-decoration-10 style="width:33.3%;height:5px;" />
          <div class="d-flex jc-center">
            <dv-decoration-8 :color="['#568aea', '#000000']" style="width:200px;height:50px;" />
            <div class="title">
              <span class="title-text">ğŸš— æ™ºæ…§åœè½¦åœºæ•°æ®å¯è§†åŒ–å¹³å°</span>
              <dv-decoration-6
                class="title-bototm"
                :reverse="true"
                :color="['#50e3c2', '#67a1e5']"
                style="width:350px;height:8px;"
              />
            </div>
            <dv-decoration-8
              :reverse="true"
              :color="['#568aea', '#000000']"
              style="width:200px;height:50px;"
            />
          </div>
          <dv-decoration-10 style="width:33.3%;height:5px;" />
        </div>

        <!-- æ•°æ®é¢æ¿åŒºåŸŸ -->
        <div class="d-flex jc-between px-2">
          <div class="d-flex" style="width: 40%">
            <div class="react-right ml-4" style="width: 500px; text-align: left;background-color: #0f1325;">
              <span class="react-before"></span>
              <span class="text fw-b">ğŸ“ {{parkingLotName}}</span>
            </div>
            <div class="react-right ml-3" style="background-color: #0f1325;">
              <span class="text colorBlue fw-b">ğŸš¨ {{alertCount}}æ¡å‘Šè­¦</span>
            </div>
          </div>
          <!-- å®æ—¶æ•°æ®é¢æ¿ -->
          <div class="center-data-panel">
            <div class="data-grid">
              <div class="data-card">
                <div class="data-label">ä»Šå¹´ç´¯è®¡è¿›åœº</div>
                <div class="data-value">{{formatNumber(yearlyEntry)}}</div>
                <div class="data-unit">è½¦æ¬¡</div>
              </div>
              <div class="data-card">
                <div class="data-label">æœ¬æœˆç´¯è®¡è¿›åœº</div>
                <div class="data-value">{{formatNumber(monthlyEntry)}}</div>
                <div class="data-unit">è½¦æ¬¡</div>
              </div>
              <div class="data-card">
                <div class="data-label">ä»Šæ—¥ç´¯è®¡è¿›åœº</div>
                <div class="data-value">{{formatNumber(dailyEntry)}}</div>
                <div class="data-unit">è½¦æ¬¡</div>
              </div>
              <div class="data-card">
                <div class="data-label">å½“å‰åœ¨åœºè½¦è¾†</div>
                <div class="data-value">{{formatNumber(currentVehicles)}}</div>
                <div class="data-unit">è¾†</div>
              </div>
              <div class="data-card">
                <div class="data-label">ç´¯è®¡ç¦»åœºè½¦æ¬¡</div>
                <div class="data-value">{{formatNumber(totalExit)}}</div>
                <div class="data-unit">è½¦æ¬¡</div>
              </div>
              <div class="data-card">
                <div class="data-label">å¹³å‡åœè½¦æ—¶é•¿</div>
                <div class="data-value">{{avgParkingTime}}</div>
                <div class="data-unit">å°æ—¶</div>
              </div>
              <div class="data-card">
                <div class="data-label">è½¦ä½åˆ©ç”¨ç‡</div>
                <div class="data-value" :class="getUtilizationClass(spaceUtilization)">{{spaceUtilization}}%</div>
                <div class="data-unit">åˆ©ç”¨ç‡</div>
              </div>
              <div class="data-card">
                <div class="data-label">ä»Šæ—¥æ”¶è´¹é‡‘é¢</div>
                <div class="data-value">{{formatCurrency(dailyRevenue)}}</div>
                <div class="data-unit">å…ƒ</div>
              </div>
            </div>
          </div>
          <div style="width: 40%" class="d-flex">
            <div class="react-left bg-color-blue mr-3">
              <span class="text fw-b">ğŸŒ¤ï¸ {{weather}} {{temperature}}Â°C</span>
            </div>
            <div class="react-left mr-4" style="width: 500px; background-color: #0f1325; text-align: right;">
              <span class="react-after"></span>
              <span class="text">{{currentDateTime}}</span>
            </div>
          </div>
        </div>

        <div class="body-box">
          <!-- ç¬¬ä¸‰è¡Œæ•°æ® -->
          <div class="content-box">
            <!-- è½¦æµé‡ç›‘æ§ -->
            <div>
              <dv-border-box-12>
                <centreLeft1 :realTimeData="realTimeFlowData" />
              </dv-border-box-12>
            </div>
            <!-- è½¦è¾†æµåŠ¨è½¨è¿¹ -->
            <div>
              <dv-border-box-12>
                <centreLeft2 :trajectoryData="vehicleTrajectoryData" />
              </dv-border-box-12>
            </div>
            <!-- 24å°æ—¶è¶‹åŠ¿ -->
            <div>
              <center :trendData="hourlyTrendData" :durationData="parkingDurationData" />
            </div>
            <!-- æ”¶è´¹åˆ†æ -->
            <div>
              <centreRight2 :revenueData="revenueAnalysisData" />
            </div>
            <!-- åŒºåŸŸè½¦ä½åˆ†å¸ƒ -->
            <div>
              <dv-border-box-13>
                <centreRight1 :spaceData="areaSpaceData" />
              </dv-border-box-13>
            </div>
          </div>

          <!-- ç¬¬å››è¡Œæ•°æ® -->
          <div class="bototm-box">
            <!-- æµé‡å¯¹æ¯”åˆ†æ -->
            <dv-border-box-13>
              <bottomLeft :flowCompareData="flowComparisonData" />
            </dv-border-box-13>
            <!-- å¼‚å¸¸ç›‘æ§ -->
            <dv-border-box-12>
              <bottomRight :anomalyData="anomalyMonitorData" />
            </dv-border-box-12>
          </div>
        </div>
      </div>
    </dv-full-screen-container>
  </div>
</template>

<script>
import centreLeft1 from "./centreLeft1";
import centreLeft2 from "./centreLeft2";
import centreRight1 from "./centreRight1";
import centreRight2 from "./centreRight2";
import center from "./center";
import bottomLeft from "./bottomLeft";
import bottomRight from "./bottomRight";
import { parkingDataService } from "@/services/parkingDataService";

export default {
  data() {
    return {
      loading: true,
      // åŸºç¡€ä¿¡æ¯
      parkingLotName: "XXæ™ºæ…§åœè½¦åœº",
      currentDateTime: "",
      weather: "æ™´å¤©",
      temperature: 22,
      alertCount: 0,
      
      // æ ¸å¿ƒæ•°æ®æŒ‡æ ‡
      yearlyEntry: 12856,
      monthlyEntry: 1245,
      dailyEntry: 156,
      currentVehicles: 423,
      totalExit: 12634,
      avgParkingTime: "2.3",
      spaceUtilization: 78.5,
      dailyRevenue: 25600,
      
      // å›¾è¡¨æ•°æ®
      realTimeFlowData: {},
      vehicleTrajectoryData: {},
      hourlyTrendData: {},
      parkingDurationData: {},
      areaSpaceData: {},
      revenueAnalysisData: {},
      flowComparisonData: {},
      anomalyMonitorData: {},
      
      // å®šæ—¶å™¨
      dataTimer: null,
      timeTimer: null
    };
  },
  components: {
    centreLeft1,
    centreLeft2,
    centreRight1,
    centreRight2,
    center,
    bottomLeft,
    bottomRight
  },
  mounted() {
    this.initData();
    this.startDataRefresh();
    this.startTimeUpdate();
  },
  beforeDestroy() {
    if (this.dataTimer) clearInterval(this.dataTimer);
    if (this.timeTimer) clearInterval(this.timeTimer);
  },
  methods: {
    async initData() {
      try {
        await this.loadAllData();
        this.loading = false;
      } catch (error) {
        console.error("æ•°æ®åŠ è½½å¤±è´¥:", error);
        this.loading = false;
      }
    },
    
    async loadAllData() {
      // å¹¶è¡ŒåŠ è½½æ‰€æœ‰æ•°æ®
      const [
        realTimeFlow,
        trajectory,
        hourlyTrend,
        duration,
        areaSpace,
        revenue,
        flowComparison,
        anomaly
      ] = await Promise.all([
        parkingDataService.getRealTimeFlow(),
        parkingDataService.getVehicleTrajectory(), 
        parkingDataService.getHourlyTrend(),
        parkingDataService.getParkingDuration(),
        parkingDataService.getAreaSpaceData(),
        parkingDataService.getRevenueAnalysis(),
        parkingDataService.getFlowComparison(),
        parkingDataService.getAnomalyMonitor()
      ]);
      
      this.realTimeFlowData = realTimeFlow;
      this.vehicleTrajectoryData = trajectory;
      this.hourlyTrendData = hourlyTrend;
      this.parkingDurationData = duration;
      this.areaSpaceData = areaSpace;
      this.revenueAnalysisData = revenue;
      this.flowComparisonData = flowComparison;
      this.anomalyMonitorData = anomaly;
      
      // æ›´æ–°æ ¸å¿ƒæŒ‡æ ‡
      this.updateCoreMetrics();
    },
    
    startDataRefresh() {
      // æ¯30ç§’åˆ·æ–°å®æ—¶æ•°æ®
      this.dataTimer = setInterval(async () => {
        await this.loadAllData();
      }, 30000);
    },
    
    startTimeUpdate() {
      this.updateDateTime();
      this.timeTimer = setInterval(() => {
        this.updateDateTime();
      }, 1000);
    },
    
    updateDateTime() {
      const now = new Date();
      const weekdays = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'];
      const year = now.getFullYear();
      const month = String(now.getMonth() + 1).padStart(2, '0');
      const day = String(now.getDate()).padStart(2, '0');
      const weekday = weekdays[now.getDay()];
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');
      
      this.currentDateTime = `${year}å¹´${month}æœˆ${day}æ—¥ ${weekday} ${hours}:${minutes}:${seconds}`;
    },
    
    updateCoreMetrics() {
      // æ ¹æ®å®æ—¶æ•°æ®æ›´æ–°æ ¸å¿ƒæŒ‡æ ‡
      if (this.realTimeFlowData) {
        this.dailyEntry = this.realTimeFlowData.todayEntry || 0;
        this.currentVehicles = this.realTimeFlowData.currentVehicles || 0;
      }
      if (this.areaSpaceData) {
        this.spaceUtilization = this.areaSpaceData.totalUtilization || 0;
      }
      if (this.anomalyMonitorData) {
        this.alertCount = this.anomalyMonitorData.totalAlerts || 0;
      }
    },
    
    formatNumber(num) {
      return num.toLocaleString();
    },
    
    formatCurrency(amount) {
      return (amount / 1000).toFixed(1) + 'k';
    },
    
    getUtilizationClass(rate) {
      if (rate > 90) return 'danger';
      if (rate > 70) return 'warning';
      return 'success';
    }
  }
};
</script>

<style lang="scss" scoped>
@import "../assets/scss/index.scss";

.center-data-panel {
  width: 20%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.data-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 10px;
  padding: 10px;
}

.data-card {
  background: rgba(11, 19, 42, 0.8);
  border: 1px solid #1e3a8a;
  border-radius: 8px;
  padding: 15px 10px;
  text-align: center;
  min-width: 120px;
  
  .data-label {
    font-size: 12px;
    color: #64748b;
    margin-bottom: 8px;
  }
  
  .data-value {
    font-size: 24px;
    font-weight: bold;
    color: #3b82f6;
    margin-bottom: 4px;
    
    &.danger {
      color: #ef4444;
    }
    
    &.warning {
      color: #f59e0b;
    }
    
    &.success {
      color: #10b981;
    }
  }
  
  .data-unit {
    font-size: 10px;
    color: #94a3b8;
  }
}
</style>
```

### 2. æ•°æ®æœåŠ¡å±‚

#### 2.1 åˆ›å»º `src/services/parkingDataService.js`

```javascript
// æ™ºæ…§åœè½¦æ•°æ®æœåŠ¡
class ParkingDataService {
  constructor() {
    this.baseUrl = process.env.VUE_APP_API_BASE_URL || 'http://localhost:3000/api';
  }

  // 3.1 è¿›åœºæ•°æ®åŒæ­¥æ¥å£
  async getEntryData(params = {}) {
    const response = await this.request('/parking/entry', params);
    return response;
  }

  // 3.2 ç¦»åœºæ•°æ®åŒæ­¥æ¥å£  
  async getExitData(params = {}) {
    const response = await this.request('/parking/exit', params);
    return response;
  }

  // 3.3 å‰©ä½™è½¦ä½åŒæ­¥æ¥å£
  async getSpaceData(params = {}) {
    const response = await this.request('/parking/spaces', params);
    return response;
  }

  // 3.5 è·å–åœ¨åœºè½¦è¾†æ¥å£
  async getCurrentVehicles(params = {}) {
    const response = await this.request('/parking/current-vehicles', params);
    return response;
  }

  // 3.13 è·å–æ—¶é—´æ®µèŒƒå›´å†…çš„è½¦æµé‡æ¥å£
  async getFlowData(startTime, endTime, areaCode = '') {
    const params = {
      start_time: startTime,
      end_time: endTime,
      area_code: areaCode
    };
    const response = await this.request('/parking/flow', params);
    return response;
  }

  // 3.25 è·å–ç»Ÿè®¡åŒºåŸŸå‰©ä½™è½¦ä½æ•°æ¥å£
  async getAreaSpaceStats() {
    const response = await this.request('/parking/area-spaces');
    return response;
  }

  // é»‘åå•äººå‘˜æ¥å£
  async getBlacklistData() {
    const response = await this.request('/parking/blacklist');
    return response;
  }

  // 7.1 è·å–æ¬ è´¹è½¦è¾†ä¿¡æ¯æ¥å£
  async getDebtVehicles() {
    const response = await this.request('/parking/debt-vehicles');
    return response;
  }

  // ===== ç»¼åˆæ•°æ®å¤„ç†æ–¹æ³• =====

  // å®æ—¶è½¦æµç›‘æ§æ•°æ®
  async getRealTimeFlow() {
    const now = new Date();
    const fiveMinutesAgo = new Date(now.getTime() - 5 * 60 * 1000);
    const hourStart = new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours());
    
    try {
      const [entryData, exitData, currentVehicles] = await Promise.all([
        this.getFlowData(fiveMinutesAgo.toISOString(), now.toISOString()),
        this.getFlowData(fiveMinutesAgo.toISOString(), now.toISOString()),
        this.getCurrentVehicles()
      ]);

      const entryCount = entryData.entry_count || 0;
      const exitCount = exitData.exit_count || 0;
      const netFlow = entryCount - exitCount;

      // è·å–å°æ—¶è½¦æµé‡
      const hourlyData = await this.getFlowData(hourStart.toISOString(), now.toISOString());
      
      return {
        realtimeEntry: entryCount,
        realtimeExit: exitCount,
        netFlow: netFlow,
        hourlyEntry: hourlyData.entry_count || 0,
        currentVehicles: currentVehicles.length || 0,
        todayEntry: await this.getTodayEntry(),
        utilization: await this.getUtilizationRate(),
        flowTrend: await this.getFlowTrend(), // æœ€è¿‘50ä¸ªæ•°æ®ç‚¹
        channelStats: await this.getChannelStats(),
        prediction: await this.getPrediction()
      };
    } catch (error) {
      console.error('è·å–å®æ—¶è½¦æµæ•°æ®å¤±è´¥:', error);
      return this.getMockRealTimeFlow();
    }
  }

  // è½¦è¾†æµåŠ¨è½¨è¿¹æ•°æ®
  async getVehicleTrajectory() {
    try {
      const [preEntryData, preExitData, entryData] = await Promise.all([
        this.request('/parking/pre-entry'),
        this.request('/parking/pre-exit'),
        this.getEntryData()
      ]);

      // æ„å»ºè½¬åŒ–æ¼æ–—æ•°æ®
      const funnelData = [
        { name: 'é¢„çº¦è¿›åœº', value: preEntryData.length, rate: 100 },
        { name: 'åˆ°è¾¾åœè½¦åœº', value: Math.floor(preEntryData.length * 0.95), rate: 95 },
        { name: 'æˆåŠŸè¿›åœº', value: Math.floor(preEntryData.length * 0.92), rate: 92 },
        { name: 'æ­£å¸¸åœè½¦', value: Math.floor(preEntryData.length * 0.89), rate: 89 },
        { name: 'æ­£å¸¸ç¦»åœº', value: Math.floor(preEntryData.length * 0.85), rate: 85 },
        { name: 'å®Œæˆæ”¯ä»˜', value: Math.floor(preEntryData.length * 0.82), rate: 82 }
      ];

      // æµåŠ¨è·¯å¾„æ•°æ®
      const pathData = await this.getFlowPaths();

      return {
        funnelData,
        pathData,
        realTimeFlow: {
          entryRate: '156è¾†/h',
          popularPath: 'å…¥å£Aâ†’åŒºåŸŸ1â†’å‡ºå£A',
          congestionAlert: 'åŒºåŸŸ1å‡ºå£è½»å¾®æ‹¥å µ'
        }
      };
    } catch (error) {
      console.error('è·å–è½¦è¾†è½¨è¿¹æ•°æ®å¤±è´¥:', error);
      return this.getMockTrajectoryData();
    }
  }

  // 24å°æ—¶è¶‹åŠ¿æ•°æ®
  async getHourlyTrend() {
    try {
      const today = new Date();
      const startOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate());
      const endOfDay = new Date(startOfDay.getTime() + 24 * 60 * 60 * 1000);

      const hourlyData = [];
      for (let hour = 0; hour < 24; hour++) {
        const hourStart = new Date(startOfDay.getTime() + hour * 60 * 60 * 1000);
        const hourEnd = new Date(hourStart.getTime() + 60 * 60 * 1000);
        
        const flowData = await this.getFlowData(hourStart.toISOString(), hourEnd.toISOString());
        
        hourlyData.push({
          hour,
          entryCount: flowData.entry_count || 0,
          exitCount: flowData.exit_count || 0,
          isPeak: flowData.entry_count > 150 // å®šä¹‰é«˜å³°æ—¶æ®µé˜ˆå€¼
        });
      }

      // è®¡ç®—ç»Ÿè®¡æŒ‡æ ‡
      const entryValues = hourlyData.map(d => d.entryCount);
      const peakEntry = Math.max(...entryValues);
      const lowEntry = Math.min(...entryValues.filter(v => v > 0));
      const peakHour = hourlyData.find(d => d.entryCount === peakEntry);

      return {
        hourlyData,
        statistics: {
          peakHour: `${peakHour.hour}:00-${peakHour.hour + 1}:00`,
          peakFlow: `${peakEntry}è¾†/h`,
          lowHour: '02:00-06:00',
          lowFlow: `${lowEntry}è¾†/h`
        }
      };
    } catch (error) {
      console.error('è·å–24å°æ—¶è¶‹åŠ¿æ•°æ®å¤±è´¥:', error);
      return this.getMockHourlyTrend();
    }
  }

  // åœè½¦æ—¶é•¿åˆ†å¸ƒæ•°æ®
  async getParkingDuration() {
    try {
      const exitData = await this.getExitData();
      
      const durationStats = {
        short: 0,    // 0-1h
        medium: 0,   // 1-4h
        long: 0,     // 4-8h
        veryLong: 0  // >8h
      };

      exitData.forEach(record => {
        const duration = record.parking_duration; // åˆ†é’Ÿ
        if (duration <= 60) {
          durationStats.short++;
        } else if (duration <= 240) {
          durationStats.medium++;
        } else if (duration <= 480) {
          durationStats.long++;
        } else {
          durationStats.veryLong++;
        }
      });

      const total = exitData.length;
      
      return {
        distribution: [
          { name: 'çŸ­åœ(0-1h)', value: durationStats.short, rate: (durationStats.short / total * 100).toFixed(1) },
          { name: 'ä¸­åœ(1-4h)', value: durationStats.medium, rate: (durationStats.medium / total * 100).toFixed(1) },
          { name: 'é•¿åœ(4-8h)', value: durationStats.long, rate: (durationStats.long / total * 100).toFixed(1) },
          { name: 'è¶…é•¿åœ(>8h)', value: durationStats.veryLong, rate: (durationStats.veryLong / total * 100).toFixed(1) }
        ],
        avgDuration: (exitData.reduce((sum, r) => sum + r.parking_duration, 0) / total / 60).toFixed(1) + 'å°æ—¶'
      };
    } catch (error) {
      console.error('è·å–åœè½¦æ—¶é•¿æ•°æ®å¤±è´¥:', error);
      return this.getMockDurationData();
    }
  }

  // åŒºåŸŸè½¦ä½æ•°æ®
  async getAreaSpaceData() {
    try {
      const areaStats = await this.getAreaSpaceStats();
      
      const areaData = areaStats.map(area => ({
        name: area.area_name,
        total: area.total_spaces,
        occupied: area.occupied_spaces,
        available: area.available_spaces,
        utilization: area.utilization_rate,
        status: this.getAreaStatus(area.utilization_rate)
      }));

      // ç”Ÿæˆçƒ­åŠ›å›¾æ•°æ®
      const heatmapData = areaData.map((area, index) => ({
        x: index % 5,  // 5åˆ—ç½‘æ ¼
        y: Math.floor(index / 5),
        value: area.utilization,
        name: area.name,
        occupied: area.occupied,
        total: area.total
      }));

      const totalSpaces = areaData.reduce((sum, area) => sum + area.total, 0);
      const totalOccupied = areaData.reduce((sum, area) => sum + area.occupied, 0);
      const totalUtilization = (totalOccupied / totalSpaces * 100).toFixed(1);

      return {
        areaData,
        heatmapData,
        summary: {
          totalSpaces,
          occupiedSpaces: totalOccupied,
          availableSpaces: totalSpaces - totalOccupied,
          totalUtilization: parseFloat(totalUtilization),
          nearFullAreas: areaData.filter(a => a.utilization > 90).map(a => a.name)
        }
      };
    } catch (error) {
      console.error('è·å–åŒºåŸŸè½¦ä½æ•°æ®å¤±è´¥:', error);
      return this.getMockAreaSpaceData();
    }
  }

  // æ”¶è´¹åˆ†ææ•°æ®
  async getRevenueAnalysis() {
    try {
      const exitData = await this.getExitData();
      
      // æ”¯ä»˜çŠ¶æ€ç»Ÿè®¡
      const paymentStats = exitData.reduce((stats, record) => {
        const status = record.payment_status;
        stats[status] = (stats[status] || 0) + 1;
        return stats;
      }, {});

      // æ”¶è´¹æ—¶é•¿åˆ†æ
      const revenueByDuration = {
        short: [], medium: [], long: [], veryLong: []
      };
      
      exitData.forEach(record => {
        const duration = record.parking_duration;
        const fee = record.parking_fee;
        
        if (duration <= 60) {
          revenueByDuration.short.push(fee);
        } else if (duration <= 240) {
          revenueByDuration.medium.push(fee);
        } else if (duration <= 480) {
          revenueByDuration.long.push(fee);
        } else {
          revenueByDuration.veryLong.push(fee);
        }
      });

      const avgRevenueByDuration = Object.keys(revenueByDuration).map(key => ({
        name: this.getDurationLabel(key),
        avgRevenue: (revenueByDuration[key].reduce((sum, fee) => sum + fee, 0) / revenueByDuration[key].length || 0).toFixed(2),
        count: revenueByDuration[key].length
      }));

      const totalRevenue = exitData.reduce((sum, record) => sum + record.parking_fee, 0);
      const avgRevenue = (totalRevenue / exitData.length).toFixed(2);

      return {
        paymentStats: Object.keys(paymentStats).map(key => ({
          name: this.getPaymentStatusLabel(key),
          value: paymentStats[key],
          rate: (paymentStats[key] / exitData.length * 100).toFixed(1)
        })),
        revenueByDuration: avgRevenueByDuration,
        summary: {
          totalRevenue,
          avgRevenue,
          paidVehicles: paymentStats['å·²ä»˜'] || 0,
          unpaidVehicles: paymentStats['æœªä»˜'] || 0
        }
      };
    } catch (error) {
      console.error('è·å–æ”¶è´¹åˆ†ææ•°æ®å¤±è´¥:', error);
      return this.getMockRevenueData();
    }
  }

  // æµé‡å¯¹æ¯”åˆ†ææ•°æ®
  async getFlowComparison() {
    try {
      const today = new Date();
      const hours = [];
      
      // è·å–ä»Šå¤©æ¯å°æ—¶çš„è¿›å‡ºåœºæ•°æ®
      for (let hour = 6; hour <= 23; hour++) {
        const hourStart = new Date(today.getFullYear(), today.getMonth(), today.getDate(), hour);
        const hourEnd = new Date(hourStart.getTime() + 60 * 60 * 1000);
        
        const flowData = await this.getFlowData(hourStart.toISOString(), hourEnd.toISOString());
        
        hours.push({
          hour: `${hour}:00`,
          entryCount: flowData.entry_count || 0,
          exitCount: flowData.exit_count || 0,
          balance: (flowData.entry_count || 0) - (flowData.exit_count || 0)
        });
      }

      // è®¡ç®—å¹³è¡¡ç³»æ•°
      const totalEntry = hours.reduce((sum, h) => sum + h.entryCount, 0);
      const totalExit = hours.reduce((sum, h) => sum + h.exitCount, 0);
      const balanceRatio = totalExit / totalEntry;

      // æ‰¾å‡ºé«˜å³°æ—¶æ®µ
      const peakEntry = hours.reduce((max, h) => h.entryCount > max.entryCount ? h : max);
      const peakExit = hours.reduce((max, h) => h.exitCount > max.exitCount ? h : max);

      return {
        hourlyData: hours,
        statistics: {
          balanceRatio: balanceRatio.toFixed(2),
          peakEntryTime: peakEntry.hour,
          peakEntryCount: peakEntry.entryCount,
          peakExitTime: peakExit.hour,
          peakExitCount: peakExit.exitCount
        }
      };
    } catch (error) {
      console.error('è·å–æµé‡å¯¹æ¯”æ•°æ®å¤±è´¥:', error);
      return this.getMockFlowComparison();
    }
  }

  // å¼‚å¸¸ç›‘æ§æ•°æ®
  async getAnomalyMonitor() {
    try {
      const [blacklistData, debtData, currentVehicles] = await Promise.all([
        this.getBlacklistData(),
        this.getDebtVehicles(),
        this.getCurrentVehicles()
      ]);

      // ç»Ÿè®¡è¶…æ—¶åœè½¦
      const now = new Date();
      const overtimeVehicles = currentVehicles.filter(vehicle => {
        const entryTime = new Date(vehicle.entry_time);
        const hoursParked = (now - entryTime) / (1000 * 60 * 60);
        return hoursParked > 48; // è¶…è¿‡48å°æ—¶
      });

      // ç»Ÿè®¡é¢‘ç¹è¿›å‡º
      const frequentVehicles = await this.getFrequentVehicles();

      // å‘Šè­¦ç»Ÿè®¡
      const alertStats = {
        emergency: blacklistData.length + debtData.filter(d => d.debt_amount > 100).length,
        warning: overtimeVehicles.length + debtData.filter(d => d.debt_amount <= 100).length,
        info: frequentVehicles.length,
        processed: 45, // ä»å†å²æ•°æ®è·å–
        processing: 15  // ä»å†å²æ•°æ®è·å–
      };

      // å¼‚å¸¸åˆ†å¸ƒ
      const anomalyDistribution = [
        { name: 'é»‘åå•', value: blacklistData.length },
        { name: 'æ¬ è´¹', value: debtData.length },
        { name: 'è¶…æ—¶', value: overtimeVehicles.length },
        { name: 'é¢‘ç¹', value: frequentVehicles.length },
        { name: 'å…¶ä»–', value: 5 }
      ];

      // é£é™©è½¦è¾†æ’è¡Œ
      const riskVehicles = this.generateRiskRanking(blacklistData, debtData, overtimeVehicles, frequentVehicles);

      return {
        alertStats,
        anomalyDistribution,
        riskVehicles,
        totalAlerts: alertStats.emergency + alertStats.warning + alertStats.info,
        processingEfficiency: ((alertStats.processed / (alertStats.processed + alertStats.processing)) * 100).toFixed(0),
        avgResponseTime: '3.2åˆ†é’Ÿ',
        weeklyImprovement: -15,
        bestProcessor: 'å¼ ä¸‰(45ä»¶)'
      };
    } catch (error) {
      console.error('è·å–å¼‚å¸¸ç›‘æ§æ•°æ®å¤±è´¥:', error);
      return this.getMockAnomalyData();
    }
  }

  // ===== è¾…åŠ©æ–¹æ³• =====

  getAreaStatus(utilization) {
    if (utilization > 95) return 'critical';
    if (utilization > 85) return 'high';
    if (utilization > 70) return 'normal';
    return 'low';
  }

  getDurationLabel(key) {
    const labels = {
      short: 'çŸ­åœ(0-1h)',
      medium: 'ä¸­åœ(1-4h)', 
      long: 'é•¿åœ(4-8h)',
      veryLong: 'è¶…é•¿åœ(>8h)'
    };
    return labels[key] || key;
  }

  getPaymentStatusLabel(status) {
    const labels = {
      'å·²ä»˜': 'å·²ä»˜è´¹',
      'æœªä»˜': 'æœªä»˜è´¹',
      'å…è´¹': 'å…è´¹åœè½¦'
    };
    return labels[status] || status;
  }

  generateRiskRanking(blacklist, debt, overtime, frequent) {
    const vehicles = [];
    
    // æ·»åŠ é»‘åå•è½¦è¾†ï¼ˆé«˜é£é™©ï¼‰
    blacklist.slice(0, 10).forEach(vehicle => {
      vehicles.push({
        plateNumber: vehicle.plate_number,
        type: 'é»‘åå•',
        riskLevel: 'ğŸ”´é«˜',
        status: 'å·²å¤„ç†'
      });
    });

    // æ·»åŠ æ¬ è´¹è½¦è¾†ï¼ˆä¸­é£é™©ï¼‰
    debt.slice(0, 5).forEach(vehicle => {
      vehicles.push({
        plateNumber: vehicle.plate_number,
        type: 'æ¬ è´¹',
        riskLevel: 'ğŸŸ¡ä¸­',
        status: 'å¤„ç†ä¸­'
      });
    });

    return vehicles.slice(0, 15); // è¿”å›å‰15æ¡
  }

  async getFrequentVehicles() {
    // æ¨¡æ‹Ÿé¢‘ç¹è¿›å‡ºè½¦è¾†æ£€æµ‹
    const today = new Date();
    const startOfDay = new Date(today.getFullYear(), today.getMonth(), today.getDate());
    
    try {
      const entryData = await this.getEntryData();
      const vehicleCounts = {};
      
      entryData.forEach(record => {
        const plateNumber = record.plate_number;
        vehicleCounts[plateNumber] = (vehicleCounts[plateNumber] || 0) + 1;
      });

      return Object.keys(vehicleCounts)
        .filter(plate => vehicleCounts[plate] > 10)
        .map(plate => ({ plate_number: plate, count: vehicleCounts[plate] }));
    } catch (error) {
      return [];
    }
  }

  async request(url, params = {}) {
    // æ¨¡æ‹ŸAPIè¯·æ±‚
    // å®é™…é¡¹ç›®ä¸­è¿™é‡Œåº”è¯¥æ˜¯çœŸå®çš„HTTPè¯·æ±‚
    console.log(`è¯·æ±‚: ${this.baseUrl}${url}`, params);
    
    // è¿”å›æ¨¡æ‹Ÿæ•°æ®
    return new Promise(resolve => {
      setTimeout(() => {
        resolve(this.getMockData(url));
      }, 100);
    });
  }

  getMockData(url) {
    // æ ¹æ®ä¸åŒçš„URLè¿”å›ä¸åŒçš„æ¨¡æ‹Ÿæ•°æ®
    const mockDataMap = {
      '/parking/entry': this.generateMockEntryData(),
      '/parking/exit': this.generateMockExitData(),
      '/parking/spaces': this.generateMockSpaceData(),
      '/parking/current-vehicles': this.generateMockCurrentVehicles(),
      '/parking/flow': this.generateMockFlowData(),
      '/parking/area-spaces': this.generateMockAreaSpaceData(),
      '/parking/blacklist': this.generateMockBlacklistData(),
      '/parking/debt-vehicles': this.generateMockDebtData()
    };

    return mockDataMap[url] || {};
  }

  // ===== æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆæ–¹æ³• =====
  
  generateMockEntryData() {
    const data = [];
    const now = new Date();
    
    for (let i = 0; i < 50; i++) {
      const entryTime = new Date(now.getTime() - Math.random() * 24 * 60 * 60 * 1000);
      data.push({
        plate_number: this.generatePlateNumber(),
        entry_time: entryTime.toISOString(),
        channel_id: `CH${Math.floor(Math.random() * 4) + 1}`,
        parking_area: `A${Math.floor(Math.random() * 5) + 1}`,
        vehicle_type: Math.random() > 0.8 ? 'VIP' : 'æ™®é€š',
        operator: 'ç³»ç»Ÿè‡ªåŠ¨'
      });
    }
    
    return data;
  }

  generateMockExitData() {
    const data = [];
    const now = new Date();
    
    for (let i = 0; i < 45; i++) {
      const exitTime = new Date(now.getTime() - Math.random() * 24 * 60 * 60 * 1000);
      const duration = Math.floor(Math.random() * 600) + 30; // 30-630åˆ†é’Ÿ
      const fee = this.calculateParkingFee(duration);
      
      data.push({
        plate_number: this.generatePlateNumber(),
        exit_time: exitTime.toISOString(),
        channel_id: `CH${Math.floor(Math.random() * 4) + 1}`,
        parking_duration: duration,
        parking_fee: fee,
        payment_status: Math.random() > 0.1 ? 'å·²ä»˜' : 'æœªä»˜'
      });
    }
    
    return data;
  }

  calculateParkingFee(duration) {
    // ç®€å•çš„è®¡è´¹è§„åˆ™ï¼š2å…ƒ/å°æ—¶ï¼Œä¸è¶³1å°æ—¶æŒ‰1å°æ—¶è®¡
    const hours = Math.ceil(duration / 60);
    return hours * 2;
  }

  generatePlateNumber() {
    const provinces = ['äº¬', 'ç²¤', 'æ²ª', 'æ´¥', 'å†€'];
    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    const numbers = '0123456789';
    
    const province = provinces[Math.floor(Math.random() * provinces.length)];
    const letter = letters[Math.floor(Math.random() * letters.length)];
    const number = Array(5).fill().map(() => 
      Math.random() > 0.5 ? 
        numbers[Math.floor(Math.random() * numbers.length)] :
        letters[Math.floor(Math.random() * letters.length)]
    ).join('');
    
    return `${province}${letter}${number}`;
  }

  // å…¶ä»–æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆæ–¹æ³•...
  getMockRealTimeFlow() {
    return {
      realtimeEntry: 156,
      realtimeExit: 142,
      netFlow: 14,
      hourlyEntry: 85,
      currentVehicles: 423,
      todayEntry: 156,
      utilization: 78.5,
      flowTrend: Array(50).fill().map((_, i) => ({
        time: new Date(Date.now() - (49 - i) * 30 * 1000),
        entry: Math.floor(Math.random() * 20) + 10,
        exit: Math.floor(Math.random() * 18) + 8,
        vip: Math.floor(Math.random() * 5)
      }))
    };
  }

  getMockTrajectoryData() {
    return {
      funnelData: [
        { name: 'é¢„çº¦è¿›åœº', value: 1000, rate: 100 },
        { name: 'åˆ°è¾¾åœè½¦åœº', value: 950, rate: 95 },
        { name: 'æˆåŠŸè¿›åœº', value: 920, rate: 92 },
        { name: 'æ­£å¸¸åœè½¦', value: 890, rate: 89 },
        { name: 'æ­£å¸¸ç¦»åœº', value: 850, rate: 85 },
        { name: 'å®Œæˆæ”¯ä»˜', value: 820, rate: 82 }
      ],
      pathData: [
        { from: 'å…¥å£A', to: 'åŒºåŸŸ1', value: 45 },
        { from: 'å…¥å£A', to: 'åŒºåŸŸ2', value: 32 },
        { from: 'å…¥å£B', to: 'åŒºåŸŸ3', value: 28 },
        { from: 'åŒºåŸŸ1', to: 'å‡ºå£A', value: 42 },
        { from: 'åŒºåŸŸ2', to: 'å‡ºå£B', value: 35 }
      ],
      realTimeFlow: {
        entryRate: '156è¾†/h',
        popularPath: 'å…¥å£Aâ†’åŒºåŸŸ1â†’å‡ºå£A',
        congestionAlert: 'åŒºåŸŸ1å‡ºå£è½»å¾®æ‹¥å µ'
      }
    };
  }

  // ç»§ç»­æ·»åŠ å…¶ä»–mockæ•°æ®æ–¹æ³•...
}

export const parkingDataService = new ParkingDataService();
```

### 3. ç»„ä»¶æ”¹é€ è¯¦ç»†è¯´æ˜

#### 3.1 æ”¹é€  `src/views/centreLeft1.vue` - è½¦æµé‡å®æ—¶ç›‘æ§

```vue
<template>
  <div class="centre-left1">
    <div class="chart-header">
      <div class="title">ğŸš— è½¦æµé‡å®æ—¶ç›‘æ§</div>
      <div class="subtitle">Real-time Traffic Flow</div>
    </div>
    
    <!-- å®æ—¶æ•°æ®åŒºåŸŸ -->
    <div class="realtime-data">
      <div class="data-row">
        <div class="data-item">
          <div class="data-label">ğŸ“ˆ è¿›åœº</div>
          <div class="data-value entry">{{realtimeData.realtimeEntry}}</div>
          <div class="data-unit">è¾†/h</div>
        </div>
        <div class="data-item">
          <div class="data-label">ğŸ“‰ ç¦»åœº</div>
          <div class="data-value exit">{{realtimeData.realtimeExit}}</div>
          <div class="data-unit">è¾†/h</div>
        </div>
      </div>
      
      <div class="data-row">
        <div class="data-item">
          <div class="data-label">âš–ï¸ å‡€å¢</div>
          <div class="data-value" :class="netFlowClass">{{netFlowText}}</div>
          <div class="data-unit">è¾†</div>
        </div>
        <div class="data-item">
          <div class="data-label">ğŸ¯ é¢„æµ‹</div>
          <div class="data-value prediction">{{realtimeData.prediction || '+28'}}</div>
          <div class="data-unit">è¾†(ä¸‹æ—¶æ®µ)</div>
        </div>
      </div>
    </div>

    <!-- è½¦ä½åˆ©ç”¨ç‡æ°´ä½å›¾ -->
    <div class="utilization-container">
      <div class="utilization-title">ğŸ’§ è½¦ä½åˆ©ç”¨ç‡æ°´ä½å›¾</div>
      <div class="water-container">
        <div class="water-level" :style="waterLevelStyle">
          <div class="water-wave"></div>
          <div class="utilization-text">{{realtimeData.utilization}}%</div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'centreLeft1',
  props: {
    realTimeData: {
      type: Object,
      default: () => ({
        realtimeEntry: 156,
        realtimeExit: 142,
        netFlow: 14,
        utilization: 78.5,
        prediction: '+28'
      })
    }
  },
  computed: {
    realtimeData() {
      return { ...this.defaultData, ...this.realTimeData };
    },
    
    netFlowText() {
      const flow = this.realtimeData.netFlow;
      return flow > 0 ? `+${flow}` : `${flow}`;
    },
    
    netFlowClass() {
      const flow = this.realtimeData.netFlow;
      if (flow > 20) return 'danger';
      if (flow > 10) return 'warning';
      return 'normal';
    },
    
    waterLevelStyle() {
      const utilization = this.realtimeData.utilization;
      return {
        height: `${utilization}%`,
        background: this.getUtilizationColor(utilization)
      };
    }
  },
  data() {
    return {
      defaultData: {
        realtimeEntry: 0,
        realtimeExit: 0,
        netFlow: 0,
        utilization: 0,
        prediction: '+0'
      }
    };
  },
  methods: {
    getUtilizationColor(rate) {
      if (rate > 90) return 'linear-gradient(to top, #ef4444, #fca5a5)';
      if (rate > 70) return 'linear-gradient(to top, #f59e0b, #fcd34d)';
      return 'linear-gradient(to top, #10b981, #6ee7b7)';
    }
  }
};
</script>

<style lang="scss" scoped>
.centre-left1 {
  width: 100%;
  height: 100%;
  padding: 20px;
  display: flex;
  flex-direction: column;
}

.chart-header {
  text-align: center;
  margin-bottom: 20px;
  
  .title {
    font-size: 18px;
    font-weight: bold;
    color: #3b82f6;
    margin-bottom: 5px;
  }
  
  .subtitle {
    font-size: 12px;
    color: #94a3b8;
  }
}

.realtime-data {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  margin-bottom: 20px;
}

.data-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 15px;
}

.data-item {
  flex: 1;
  text-align: center;
  padding: 10px;
  background: rgba(11, 19, 42, 0.6);
  border: 1px solid #1e40af;
  border-radius: 8px;
  margin: 0 5px;
  
  .data-label {
    font-size: 12px;
    color: #64748b;
    margin-bottom: 8px;
  }
  
  .data-value {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 4px;
    
    &.entry {
      color: #10b981;
    }
    
    &.exit {
      color: #f59e0b;
    }
    
    &.normal {
      color: #10b981;
    }
    
    &.warning {
      color: #f59e0b;
    }
    
    &.danger {
      color: #ef4444;
      animation: blink 1s infinite;
    }
    
    &.prediction {
      color: #8b5cf6;
    }
  }
  
  .data-unit {
    font-size: 10px;
    color: #94a3b8;
  }
}

.utilization-container {
  .utilization-title {
    font-size: 14px;
    color: #3b82f6;
    text-align: center;
    margin-bottom: 10px;
  }
}

.water-container {
  position: relative;
  width: 200px;
  height: 100px;
  margin: 0 auto;
  border: 2px solid #1e40af;
  border-radius: 8px;
  background: rgba(11, 19, 42, 0.8);
  overflow: hidden;
}

.water-level {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  transition: height 1s ease-in-out;
  position: relative;
  
  .water-wave {
    position: absolute;
    top: -10px;
    left: -100%;
    width: 300%;
    height: 20px;
    background: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 10px,
      rgba(255,255,255,0.1) 10px,
      rgba(255,255,255,0.1) 20px
    );
    animation: wave 3s linear infinite;
  }
  
  .utilization-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 18px;
    font-weight: bold;
    color: white;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
  }
}

@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.5; }
}

@keyframes wave {
  0% { transform: translateX(0); }
  100% { transform: translateX(33.33%); }
}
</style>
```

#### 3.2 æ”¹é€ å…¶ä»–ç»„ä»¶çš„é…ç½®æ–‡ä»¶

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæˆ‘å°†ä¸ºæ¯ä¸ªç»„ä»¶æä¾›é…ç½®æ¦‚è¦ï¼š

**`src/views/centreLeft2.vue` - è½¦è¾†æµåŠ¨è½¨è¿¹**
- ä¸»å›¾è¡¨ï¼šECharts é£çº¿å›¾å±•ç¤ºè½¦è¾†æµåŠ¨è·¯å¾„
- å‰¯å›¾è¡¨ï¼šDataV æ¼æ–—å›¾å±•ç¤ºåœè½¦è½¬åŒ–ç‡
- å®æ—¶ä¿¡æ¯ï¼šå½“å‰æµé‡ç»Ÿè®¡å’Œçƒ­é—¨è·¯å¾„æç¤º

**`src/views/center.vue` - 24å°æ—¶è¶‹åŠ¿åˆ†æ**
- ä¸»å›¾è¡¨ï¼šECharts é¢ç§¯å›¾æ˜¾ç¤º24å°æ—¶è½¦æµè¶‹åŠ¿
- å‰¯å›¾è¡¨ï¼šECharts ç¯å½¢é¥¼å›¾æ˜¾ç¤ºåœè½¦æ—¶é•¿åˆ†å¸ƒ
- ç»Ÿè®¡ä¿¡æ¯ï¼šé«˜å³°æ—¶æ®µå’Œä½è°·æ—¶æ®µæ ‡æ³¨

**`src/views/centreRight1.vue` - åŒºåŸŸè½¦ä½çŠ¶æ€åˆ†å¸ƒ**
- ä¸»å›¾è¡¨ï¼šECharts çƒ­åŠ›å›¾å±•ç¤ºå„åŒºåŸŸåˆ©ç”¨ç‡
- è¾…åŠ©å›¾ï¼šDataV è¿›åº¦ç¯æ˜¾ç¤ºæ•´ä½“åˆ©ç”¨ç‡
- çŠ¶æ€æŒ‡ç¤ºï¼šåŒºåŸŸé¥±å’Œåº¦é¢œè‰²ç¼–ç 

**`src/views/centreRight2.vue` - æ”¶è´¹å’Œæ”¯ä»˜åˆ†æ**
- ä¸»å›¾è¡¨ï¼šECharts æŸ±çŠ¶å›¾æ˜¾ç¤ºä¸åŒæ—¶é•¿çš„å¹³å‡æ”¶è´¹
- å‰¯å›¾è¡¨ï¼šECharts é¥¼å›¾æ˜¾ç¤ºæ”¯ä»˜çŠ¶æ€åˆ†å¸ƒ
- ç»Ÿè®¡é¢æ¿ï¼šæ”¶è´¹æ€»é¢å’Œæ”¯ä»˜ç‡

**`src/views/bottomLeft.vue` - è¿›å‡ºåœºæµé‡å¯¹æ¯”**
- ä¸»å›¾è¡¨ï¼šECharts åŒè½´æŸ±çŠ¶å›¾å¯¹æ¯”è¿›å‡ºåœºæµé‡
- è¶‹åŠ¿çº¿ï¼šå‡€æµé‡å˜åŒ–è¶‹åŠ¿
- å¹³è¡¡æŒ‡æ ‡ï¼šæµé‡å¹³è¡¡ç³»æ•°æ˜¾ç¤º

**`src/views/bottomRight.vue` - å¼‚å¸¸è¡Œä¸ºç›‘æ§**
- å‘Šè­¦é¢æ¿ï¼šå®æ—¶å¼‚å¸¸å‘Šè­¦ä¿¡æ¯
- åˆ†ç±»ç»Ÿè®¡ï¼šå¼‚å¸¸ç±»å‹åˆ†å¸ƒé¥¼å›¾
- é£é™©æ’è¡Œï¼šé«˜é£é™©è½¦è¾†åˆ—è¡¨

## ğŸ“Š æ ·å¼ä¸»é¢˜ä¿®æ”¹

### 4.1 ä¿®æ”¹ `src/assets/scss/index.scss`

```scss
// æ™ºæ…§åœè½¦ä¸»é¢˜è‰²å½©
$parking-primary: #3b82f6;      // ä¸»è“è‰²
$parking-success: #10b981;      // å¯ç”¨è½¦ä½ç»¿è‰²
$parking-warning: #f59e0b;      // ç´§å¼ è½¦ä½é»„è‰²
$parking-danger: #ef4444;       // é¥±å’Œè½¦ä½çº¢è‰²
$parking-info: #8b5cf6;         // é¢„çº¦è½¦ä½ç´«è‰²

// æ·»åŠ åœè½¦åœºä¸“ç”¨æ ·å¼
.parking-status {
  &.available {
    color: $parking-success;
    background: rgba(16, 185, 129, 0.1);
  }
  
  &.busy {
    color: $parking-warning;
    background: rgba(245, 158, 11, 0.1);
  }
  
  &.full {
    color: $parking-danger;
    background: rgba(239, 68, 68, 0.1);
  }
  
  &.reserved {
    color: $parking-info;
    background: rgba(139, 92, 246, 0.1);
  }
}

// å®æ—¶æ•°æ®é—ªçƒæ•ˆæœ
.realtime-blink {
  animation: realtime-pulse 2s infinite;
}

@keyframes realtime-pulse {
  0% { opacity: 1; }
  50% { opacity: 0.7; }
  100% { opacity: 1; }
}

// å‘Šè­¦æ ·å¼
.alert-danger {
  color: $parking-danger;
  animation: alert-blink 1s infinite;
}

@keyframes alert-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.5; }
}
```

## ğŸ”§ é…ç½®æ–‡ä»¶ä¿®æ”¹

### 5.1 åˆ›å»º `src/config/parkingConfig.js`

```javascript
// æ™ºæ…§åœè½¦é…ç½®æ–‡ä»¶
export const PARKING_CONFIG = {
  // APIé…ç½®
  API_BASE_URL: process.env.VUE_APP_API_BASE_URL || 'http://localhost:3000/api',
  
  // æ•°æ®åˆ·æ–°é¢‘ç‡ï¼ˆæ¯«ç§’ï¼‰
  REFRESH_INTERVALS: {
    REALTIME_DATA: 5000,      // å®æ—¶æ•°æ®5ç§’
    CHART_DATA: 30000,        // å›¾è¡¨æ•°æ®30ç§’
    ALERT_DATA: 3000,         // å‘Šè­¦æ•°æ®3ç§’
    TIME_DISPLAY: 1000        // æ—¶é—´æ˜¾ç¤º1ç§’
  },
  
  // é˜ˆå€¼é…ç½®
  THRESHOLDS: {
    UTILIZATION: {
      LOW: 60,               // ä½åˆ©ç”¨ç‡é˜ˆå€¼
      NORMAL: 85,            // æ­£å¸¸åˆ©ç”¨ç‡é˜ˆå€¼
      HIGH: 95               // é«˜åˆ©ç”¨ç‡é˜ˆå€¼
    },
    FLOW: {
      PEAK_FACTOR: 1.5,      // é«˜å³°æµé‡å€æ•°
      ALERT_NET_FLOW: 20     // å‡€æµé‡å‘Šè­¦é˜ˆå€¼
    },
    PARKING_DURATION: {
      SHORT: 60,             // çŸ­åœé˜ˆå€¼ï¼ˆåˆ†é’Ÿï¼‰
      MEDIUM: 240,           // ä¸­åœé˜ˆå€¼ï¼ˆåˆ†é’Ÿï¼‰
      LONG: 480,             // é•¿åœé˜ˆå€¼ï¼ˆåˆ†é’Ÿï¼‰
      OVERTIME: 2880         // è¶…æ—¶é˜ˆå€¼ï¼ˆåˆ†é’Ÿï¼Œ48å°æ—¶ï¼‰
    }
  },
  
  // å›¾è¡¨é…ç½®
  CHART_COLORS: {
    ENTRY: '#10b981',        // è¿›åœºé¢œè‰²
    EXIT: '#f59e0b',         // ç¦»åœºé¢œè‰²
    NET_POSITIVE: '#10b981', // æ­£å‡€æµé‡
    NET_NEGATIVE: '#ef4444', // è´Ÿå‡€æµé‡
    UTILIZATION: {
      LOW: '#3b82f6',        // ä½åˆ©ç”¨ç‡
      NORMAL: '#10b981',     // æ­£å¸¸åˆ©ç”¨ç‡
      HIGH: '#f59e0b',       // é«˜åˆ©ç”¨ç‡
      CRITICAL: '#ef4444'    // å±é™©åˆ©ç”¨ç‡
    }
  },
  
  // åŒºåŸŸé…ç½®
  PARKING_AREAS: [
    { code: 'A1', name: 'A1åŒº', capacity: 120 },
    { code: 'A2', name: 'A2åŒº', capacity: 150 },
    { code: 'A3', name: 'A3åŒº', capacity: 100 },
    { code: 'A4', name: 'A4åŒº', capacity: 130 },
    { code: 'A5', name: 'A5åŒº', capacity: 140 },
    { code: 'B1', name: 'B1åŒº', capacity: 110 },
    { code: 'B2', name: 'B2åŒº', capacity: 90 },
    { code: 'B3', name: 'B3åŒº', capacity: 120 },
    { code: 'B4', name: 'B4åŒº', capacity: 80 },
    { code: 'B5', name: 'B5åŒº', capacity: 155 }
  ]
};
```

## ğŸš€ éƒ¨ç½²å’Œæµ‹è¯•

### 6.1 å¼€å‘ç¯å¢ƒé…ç½®

```bash
# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœæœ‰æ–°å¢ï¼‰
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run serve

# è®¿é—®åœ°å€
http://localhost:6954
```

### 6.2 ç”Ÿäº§ç¯å¢ƒæ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# æ„å»ºæ–‡ä»¶ä½äº dist/ ç›®å½•
```

### 6.3 ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env.development` å’Œ `.env.production` æ–‡ä»¶ï¼š

```bash
# .env.development
VUE_APP_API_BASE_URL=http://localhost:3000/api
VUE_APP_PARKING_LOT_NAME=XXæ™ºæ…§åœè½¦åœº

# .env.production  
VUE_APP_API_BASE_URL=https://api.parking.com
VUE_APP_PARKING_LOT_NAME=XXæ™ºæ…§åœè½¦åœº
```

## âœ… éªŒæ”¶æ£€æŸ¥æ¸…å•

### åŠŸèƒ½éªŒæ”¶
- [ ] å®æ—¶æ•°æ®æ­£å¸¸æ˜¾ç¤ºå’Œæ›´æ–°
- [ ] æ‰€æœ‰å›¾è¡¨æ­£ç¡®æ¸²æŸ“
- [ ] å‘Šè­¦åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æ•°æ®äº¤äº’åŠŸèƒ½æ­£å¸¸
- [ ] å“åº”å¼å¸ƒå±€é€‚é…

### æ€§èƒ½éªŒæ”¶
- [ ] é¡µé¢åŠ è½½æ—¶é—´ < 3ç§’
- [ ] æ•°æ®æ›´æ–°æµç•…æ— å¡é¡¿
- [ ] å†…å­˜å ç”¨åˆç†
- [ ] CPUä½¿ç”¨ç‡æ­£å¸¸

### è§†è§‰éªŒæ”¶
- [ ] æ•´ä½“é£æ ¼ç»Ÿä¸€
- [ ] è‰²å½©æ­é…åè°ƒ
- [ ] å­—ä½“å¤§å°åˆé€‚
- [ ] åŠ¨ç”»æ•ˆæœè‡ªç„¶

## ğŸ“ ç»´æŠ¤è¯´æ˜

### æ—¥å¸¸ç»´æŠ¤
1. **æ•°æ®ç›‘æ§**ï¼šå®šæœŸæ£€æŸ¥æ•°æ®æ¥å£çŠ¶æ€
2. **æ€§èƒ½ä¼˜åŒ–**ï¼šç›‘æ§é¡µé¢æ€§èƒ½æŒ‡æ ‡
3. **å‘Šè­¦æµ‹è¯•**ï¼šå®šæœŸæµ‹è¯•å‘Šè­¦åŠŸèƒ½
4. **å¤‡ä»½ç­–ç•¥**ï¼šå®šæœŸå¤‡ä»½é…ç½®æ–‡ä»¶

### æ‰©å±•å»ºè®®
1. **å¢åŠ æ›´å¤šå›¾è¡¨ç±»å‹**ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚æ‰©å±•
2. **æ·»åŠ æ•°æ®å¯¼å‡ºåŠŸèƒ½**ï¼šæ”¯æŒæŠ¥è¡¨å¯¼å‡º
3. **å¢å¼ºäº¤äº’åŠŸèƒ½**ï¼šæ·»åŠ æ›´å¤šé’»å–åŠŸèƒ½
4. **ç§»åŠ¨ç«¯é€‚é…**ï¼šä¼˜åŒ–ç§»åŠ¨è®¾å¤‡æ˜¾ç¤º

---

**æ”¹é€ å®Œæˆåï¼ŒåŸæœ‰çš„é€šç”¨æ•°æ®å¤§å±å°†å®Œå…¨è½¬æ¢ä¸ºä¸“ä¸šçš„æ™ºæ…§åœè½¦åœºæ•°æ®å¯è§†åŒ–å¹³å°ï¼Œå…·å¤‡å®æ—¶ç›‘æ§ã€æ•°æ®åˆ†æã€å¼‚å¸¸å‘Šè­¦ç­‰å®Œæ•´åŠŸèƒ½ã€‚** 